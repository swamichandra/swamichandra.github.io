<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset='utf-8' />
    <meta http-equiv="X-UA-Compatible" content="chrome=1" />
    <meta name="description" content="Generate a hipster and random job title based on trending tech!" />

    <title>Job title generator</title>

    <meta property="og:site_name" content="Job Title Generator" />
    <meta property="og:title" content="Job Title Generator" />
    <meta property="og:description" content="Generate a hipster and random job title based on trending tech!" />

    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Job Title Generator">
    <meta name="twitter:description" content="Generate a hipster and random job title based on trending tech!">

    <link rel="stylesheet" type="text/css" media="screen" href="css/style.css">
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Amatic+SC:wght@400;700&display=swap');
    </style>


</head>

<body>

<div id="header_wrap" class="outer">
    <header class="inner">
        <!-- <h1 id="project_title">Job Title Generator</h1> -->
        <h4 id="project_tagline">Generate a hipster and random job title based on trending tech!</h4>
    </header>
</div>

<div id="main_content_wrap" class="">
    <section id="main_content" class="">
        <div id="card_box_3d">
            <div class="card" title="Double click me to generate a new one..." itemscope itemtype="http://data-vocabulary.org/Person">
                <div class="name fn" itemprop="name">
                    <span class="other_name"></span>
                    <span class="other_name"></span>
                    <br/>
                    <span class="company_name"></span>
                </div>
                <div id="title_generated" class="name" itemprop="title"></div>
                <div class="location" itemprop="affiliation">ACME Corp</div>
            </div>
        </div>

        <div id="controls">
            <div class="customize_submit">
                <button id="generate_button" class="btn">Generate</button>
                
            </div>
            <div class="customize_name">
                <label for="first_name" class="other_name">First name:</label><input type="text" name="first_name" id="first_name" value="Joe"  />
                <label for="last_name" class="other_name">Last name:</label><input type="text" name="last_name" id="last_name" value="Shmoe"  />
            </div>
        </div>

        <hr />

    </section>
</div>

<script type="text/javascript">

var TitleGenerator = (function() {

    var first_names = [
        "Jane",
        "John"
    ];

    var title_parts = [
        [
            "Adaptive",
            "Administrative",
            "Assistant",
            "Associate",
            "Authorized",
            "Autonomous",
            "B2B",
            "B2C",
            "Badass",
            "Best Practice",
            "Chief",
            "Civilian",
            "Collaborative",
            "Collective",
            "Common",
            "Company",
            "Consumer",
            "Corporate",
            "Creative",
            "Customer",
            "Data Loss",
            "Distributed",
            "Domestic",
            "Dynamic",
            "Educational",
            "Enterprise",
            "Essential",
            "Exclusive",
            "Executive",
            "Federal",
            "First",
            "First Level",
            "Foreign",
            "Future",
            "General",
            "Global",
            "Government",
            "Granular",
            "Head",
            "Holistic",
            "Independent",
            "Innovative",
            "Integrated",
            "Interactive",
            "Interim",
            "International",
            "Intuitive",
            "Lead",
            "Legal",
            "Local",
            "Major",
            "Millennial",
            "Minor",
            "Moral",
            "Native",
            "Offshore",
            "Opensource",
            "Original",
            "Organic",
            "Partial",
            "Planetary",
            "Premium",
            "Principal",
            "Proactive",
            "Professional",
            "Public",
            "Qualified",
            "Realtime",
            "Regional",
            "Responsible",
            "Retail",
            "Robust",
            "Scalable",
            "Seamless",
            "Second Level",
            "Secondary",
            "Semi-Public",
            "Senior",
            "Senior Associate",
            "Senior Strategic",
            "Social",
            "Static",
            "Strategic",
            "Structural",
            "Superior",
            "Target",
            "Third Level",
            "Universal",
            "Ubiquitous",
            "Vice",
            "Vintage",
            "Viral",
            "Virtual",
            "Worldwide"
        ],[
            "Account",
            "Advertising",
            "Advice",
            "Agile",
            "Applications",
            "Art",
            "Assembly",
            "Asset",
            "Assurance",
            "Audit",
            "Balance",
            "Benchmark",
            "Brand",
            "Brand Research",
            "Budget",
            "Business",
            "Business Insights",
            "Business Analysis",
            "Career",
            "Case",
            "Change",
            "Change Managemant",
            "Channel",
            "Cloud",
            "Collaboration",
            "Commitment",
            "Committee",
            "Communications",
            "Community",
            "Competition",
            "Component",
            "Conception",
            "Confidence",
            "Construction",
            "Consumer",
            "Consumer Electronics",
            "Content",
            "Content Analysis",
            "Contract",
            "Convergence",
            "Corporate Development",
            "Corporate Identity",
            "Cost",
            "Creative",
            "Credit",
            "Credit Analysis",
            "Crisis",
            "Cross-Media",
            "Cross-Platform",
            "Cultivation",
            "Customer",
            "Deliverable",
            "Delivery",
            "Demographic",
            "Deployment",
            "Design",
            "Design Research",
            "Design Thinking",
            "Development",
            "DevOps",
            "Distribution",
            "E-Business",
            "E-Commerce",
            "Education",
            "E-Markets",
            "Electronics",
            "Embracement",
            "Emerging Markets",
            "Employment",
            "Enhancement",
            "Enduser",
            "Endurability",
            "Engagement",
            "Engineering",
            "Equity",
            "E-Services",
            "Ethics",
            "Event",
            "Evolution",
            "Evolvement",
            "Experimental",
            "Export",
            "Facility",
            "Finance",
            "Governance",
            "Guidance",
            "Grief",
            "Group",
            "Growth",
            "Hardware",
            "Health Care",
            "Helpdesk",
            "Heritage",
            "Human Resources",
            "IT",
            "Implementation",
            "Import",
            "Incentive",
            "Industry",
            "Infrastructure",
            "Innovation",
            "Insights",
            "Insurance",
            "Integration",
            "Interaction",
            "Interactive Advertising",
            "Interface",
            "Investment",
            "Iteration",
            "Knowledge",
            "Law",
            "Leverage",
            "Loan",
            "Logic",
            "Logistics",
            "Loyalty",
            "Management",
            "Market",
            "Market Research",
            "Marketing",
            "Marketing Solutions",
            "Matrix",
            "M-Commerce",
            "Media",
            "Media Research",
            "Merchandise",
            "Methodologies",
            "Metrics",
            "Model",
            "Monetization",
            "Monitoring",
            "Multimedia",
            "Multi Platform",
            "Native Solutions",
            "Native Advertising",
            "Network",
            "Niches",
            "Offshoring",
            "Operations",
            "Opportunity",
            "Optimisation",
            "Orchestration",
            "Order",
            "Outsourcing",
            "Paradigms",
            "Partnerships",
            "Payroll",
            "Performance",
            "Planning",
            "Policy",
            "Portal",
            "Positioning",
            "Privacy",
            "Process",
            "Product",
            "Product Advertising",
            "Product Lifecycle",
            "Product Marketing",
            "Product Placement",
            "Product Research",
            "Production",
            "Profit",
            "Project",
            "Project Management",
            "Promotion",
            "Propaganda",
            "Property",
            "Publicity",
            "Quality",
            "Real Estate",
            "Reassurance",
            "Relations",
            "Reproduction",
            "Research",
            "Resource",
            "Responsibility",
            "Risk",
            "ROI",
            "Sales",
            "Sanitation",
            "Security",
            "Service",
            "Six-Sigma",
            "Social",
            "Social Media",
            "Social Responsibility",
            "Software",
            "Solution",
            "Strategy",
            "Supply Chain",
            "Support",
            "Sustainability",
            "Syndicate",
            "Talent",
            "Target",
            "Taxation",
            "Technology",
            "Therapy",
            "Trade",
            "Trademark",
            "Trading",
            "Training",
            "Transaction",
            "Transparancy",
            "Transportation",
            "Travel",
            "User",
            "User Experience",
            "UX and HCI",
            "Value",
            "Visionary",
            "Wireless",
            "Web",
            "Workshop"
        ],[
            "Accountant",
            "Administrator",
            "Advisor",
            "Advocate",
            "Agent",
            "Ambassador",
            "Analyst",
            "Architect",
            "Artist",
            "Associate",
            "Attourney",
            "Authority",
            "Broker",
            "Chairman",
            "Chairperson",
            "Coach",
            "Collaborateur",
            "Consultant",
            "Controller",
            "Coordinator",
            "Counsellor",
            "Deputy",
            "Deputy Officer",
            "Developer",
            "DevOp",
            "Digitalizer",
            "Director",
            "Dispatcher",
            "Editor",
            "Enabler",
            "Enforcer",
            "Engineer",
            "Enthusiast",
            "Evangelist",
            "Expert",
            "General",
            "Guru",
            "Hacker",
            "Hipster",
            "Inspector",
            "Instructor",
            "Intern",
            "Knowledgarian",
            "Lawyer",
            "Lobbyist",
            "Manager",
            "Manufacturer",
            "Man of Mystery",
            "Marshall",
            "Mentor",
            "Modeler",
            "Officer",
            "Opener",
            "Operator",
            "Orchestrator",
            "Partner",
            "Practitioner",
            "President",
            "Principal",
            "Principal Deputy Officer",
            "Provider",
            "Regent",
            "Secretary",
            "Specialist",
            "Strategist",
            "Suggestor",
            "Supervisor",
            "Talent",
            "Technician",
            "Trader",
            "Trainer",
            "Tutor",
            "Vice",
            "Visionary",
            "Woman of Mystery"
        ]
    ];

    var $ = function(selector, base_element) {
        if (!base_element) {
            base_element = document;
        }

        return base_element.querySelector(selector);
    };

    var build_title = function(indexes) {
        var i, title = '';

        for (i in indexes) {
            if (indexes.hasOwnProperty(i)) {
                if (i > 0) {
                    title = title + ' ';
                }
                title = title + title_parts[i][indexes[i]];
            }
        }

        return title;
    };

    var build_hash = function(indexes) {
        return indexes.join(hash_delimiter);
    };

    var render_title = function(indexes, id) {
        var new_title = build_title(indexes);
        var new_hash = '#' + build_hash(indexes);

        generated_title.innerHTML = new_title;

        update_range_inputs(indexes);

        if (window.history && window.history.pushState) {
            window.history.pushState({}, new_title, new_hash);
        }
        else {
            document.location.href = base_url + new_hash;
        }
    };

    var generate_jobtitle = function(hash) {
        if (!hash) {
            return;
        }

        var i, n, indexes;

        hash = hash.substring(1);
        indexes = hash.split(hash_delimiter);

        render_title(indexes);
    };

    var generate_random_jobtitle = function() {
        var i, n, indexes = [], hash = '';

        for (i in title_parts) {
            if (title_parts.hasOwnProperty(i)) {
                indexes.push(Math.floor(Math.random() * title_parts[i].length));
            }
        }

        render_title(indexes);
    };

    var generate_first_name = function() {
        return first_names[Math.floor(Math.random() * first_names.length)];
    };

    var title_count = function() {
        var i, num = 1;

        for (i in title_parts) {
            if (title_parts.hasOwnProperty(i)) {
                num *= title_parts[i].length;
            }
        }

        return num;
    };

    var update_range_inputs = function(indexes) {
        for (var i in indexes) {
            if (indexes.hasOwnProperty(i)) {
                title_part_inputs[i].value = indexes[i];
            }
        }
    };

    var query_params = "unset";
    var get_query_param = function(name) {
        if (query_params !== "unset") {
            return query_params[name];
        }

        query_params = [];
        var query = window.location.search.substring(1);
        var params = query.split('&');
        var pos = 0;
        for (var i=0, len=params.length; i < len; i++) {
            pos = params[i].indexOf('=');
            if (pos > 0) {
                query_params[decodeURIComponent(params[i].substring(0, pos))] = decodeURIComponent(params[i].substring(pos + 1));
            }
        }

        return query_params[name];
    };

    var trigger_change_event = function(element) {
        var evt = document.createEvent("HTMLEvents");
        evt.initEvent("change", false, true);
        element.dispatchEvent(evt);
    };

    var hash_delimiter = '_';
    var hash_pattern = new RegExp('#\\d+'+hash_delimiter+'\\d+'+hash_delimiter+'\\d+');
    var base_url = document.location.href.split('#').shift();

    var generated_title = document.getElementById('title_generated');

    var generate_button = document.getElementById('generate_button');
    generate_button.addEventListener('click', generate_random_jobtitle, false);

    var first_name_input = document.getElementById('first_name');
    var last_name_input = document.getElementById('last_name');
    var company_name_input = document.getElementById('company_name');

    var first_name = $('#card_box_3d .first_name');
    var last_name = $('#card_box_3d .last_name');
    var company_name = $('#card_box_3d .company_name');

    var card = $('#card_box_3d .vcard');

    var title_part_inputs = [
        document.getElementById('title_first'),
        document.getElementById('title_second'),
        document.getElementById('title_third')
    ];

    // initialize sliders with number of available words
    for (i in title_parts) {
        if (title_parts.hasOwnProperty(i)) {
            title_part_inputs[i].min = 0;
            title_part_inputs[i].max = title_parts[i].length -1;
            title_part_inputs[i].onchange = function(ev) {
                var new_indexes = [];

                for (var k in title_part_inputs) {
                    if (title_part_inputs.hasOwnProperty(k)) {
                        new_indexes[k] = title_part_inputs[k].value;
                    }
                }

                document.location.hash = '#' + build_hash(new_indexes);
            };
        }
    }

    first_name_input.addEventListener('change', function() {
        first_name.innerHTML = this.value;
    }, false);

    first_name_input.addEventListener('keyup', function() {
        first_name.innerHTML = this.value;
    }, false);

    last_name_input.addEventListener('keyup', function() {
        last_name.innerHTML = this.value;
    }, false);

    last_name_input.addEventListener('change', function() {
        last_name.innerHTML = this.value;
    }, false);

    company_name_input.addEventListener('change', function() {
        company_name.innerHTML = this.value;
    }, false);

    company_name_input.addEventListener('keyup', function() {
        company_name.innerHTML = this.value;
    }, false);

    card.addEventListener('dblclick', function() {
        generate_random_jobtitle();
    }, false);

    if ("onhashchange" in window) {
        var hash_changed = function() {
            if (hash_pattern.test(document.location.hash)) {
                generate_jobtitle(window.location.hash);
            }
        }

        window.addEventListener("hashchange", hash_changed, false);
    }

    return {
        show: function() {
            //update_footer();

            first_name_input.value = get_query_param('firstname') || generate_first_name();
            last_name_input.value = get_query_param('lastname') || 'M. Doe';
            company_name_input.value = get_query_param('company') || 'ACME Corp.';

            trigger_change_event(first_name_input);
            trigger_change_event(last_name_input);
            trigger_change_event(company_name_input);

            if (document.location.hash && hash_pattern.test(document.location.hash)) {
                generate_jobtitle(document.location.hash);
            }
            else {
                generate_random_jobtitle();
            }
        },

        getTitleCount: function() {
            return title_count();
        }
    };
})();

if (window.console && console.log) {
    console.log('There are ', TitleGenerator.getTitleCount(), ' job titles in the database! ;-)');
}

TitleGenerator.show();

</script>

  </body>
</html>
